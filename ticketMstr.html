<!DOCTYPE html>
<html lang="en-us">
<head>
        <script
        src="http://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
        
        
</head>
<body>

<div id="container">

</div>
<hr>
<div id="container2">

</div>

</body>
</html>

<script>
    console.log("working");


//var query1= "https://app.ticketmaster.com/discovery/v2/venues/KovZpZAFnIEA.json?apikey=f5oUWGdzD2xIKTd5rGEGxwy0moJZvoWg&keyword=UCV"

// this ajax get venues based on a key word
var queryByKeyWord = "http://app.ticketmaster.com/discovery/v1/events.json?keyword=Imagine Dragons&apikey=f5oUWGdzD2xIKTd5rGEGxwy0moJZvoWg&callback=myFunction"
$.ajax({
  type:"GET",
  url:queryByKeyWord,
  async:true,
  dataType: "json",
  success: function(json) {
    
    for (var i=0; i<10; i++) {
        console.log(json._embedded.events[i].name);
        $("#container").append(json._embedded.events[i].name + "<br>")
    }

  },
    error: function(xhr, status, err) {
        console.log(err);
    }
});




// Los Angeles = dmaId=324 (Designated Market Area (DMA)) https://developer.ticketmaster.com/products-and-docs/apis/discovery-api/v2/#search-venues-v2
// New York = 345 etc..
var query2 = "https://app.ticketmaster.com/discovery/v2/events.json?classificationName=music&dmaId=324&apikey=f5oUWGdzD2xIKTd5rGEGxwy0moJZvoWg"
//            
$.ajax({
  type:"GET",
  url:query2,
  async:true,
  dataType: "json",
  success: function(json) {
    
    for (var i=0; i<10; i++) {
        console.log(json._embedded.events[i].name);
        $("#container").append(json._embedded.events[i].name + "<br>")
    }

  },
    error: function(xhr, status, err) {
        console.log(err);
    }
});


//music events, in LA area "classificationName=music&dmaId=324"
var query3 = "https://app.ticketmaster.com/discovery/v2/events.json?classificationName=music&dmaId=324&apikey=f5oUWGdzD2xIKTd5rGEGxwy0moJZvoWg"
//            
  
$.ajax({
  type:"GET",
  url:query3,
  async:true,
  dataType: "json",
  success: function(json) {
    
    for (var i=0; i<10; i++) {
        console.log(json._embedded.events[i].name);
        $("#container2").append(json._embedded.events[i].name
         + "; playing on " + json._embedded.events[i].dates.start.localDate
          + "; playing at venue " + json._embedded.events[i]._embedded.venues[0].name
           + "; longitude: " + json._embedded.events[i]._embedded.venues[0].location.longitude
            + "; latitude: " + json._embedded.events[i]._embedded.venues[0].location.latitude + "<br>")
    }

    // for (var i=0; i<10; i++) {
    //     console.log(json._embedded.events[i].Date);
    //     $("#container2").append(json._embedded.events[i].dates.start.localDate + "<br>")
    // }

  


  },
    error: function(xhr, status, err) {
        console.log(err);
    }
});



//music events, in LA area "classificationName=music&dmaId=324"
var query3 = "https://app.ticketmaster.com/discovery/v2/events.json?classificationName=music&dmaId=324&apikey=f5oUWGdzD2xIKTd5rGEGxwy0moJZvoWg"
//            
  
$.ajax({
  type:"GET",
  url:query3,
  async:true,
  dataType: "json",
  success: function(json) {
    
        console.log('test', json);
        

  


  },
    error: function(xhr, status, err) {
        console.log(err);
    }
});



</script>